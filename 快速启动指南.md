# 🚀 快速启动指南

## 问题解决

如果遇到 404 或 501 错误，请按以下步骤操作：

### 方法一：分步启动（推荐）

1. **启动后端服务器**
   ```bash
   # 双击运行
   start-backend.bat
   
   # 或者手动运行
   cd code
   python app_fixed.py
   ```

2. **启动前端服务器**
   ```bash
   # 在新的命令行窗口中运行
   python -m http.server 8000
   ```

3. **访问页面**
   - 语音对话：http://localhost:8000/voice-chat.html
   - 文本聊天：http://localhost:8000/index.html

### 方法二：一键启动

```bash
# 双击运行
start-voice-chat.bat
```

## 常见问题解决

### 1. 404 错误
- **原因**：后端服务器没有启动
- **解决**：先运行 `start-backend.bat` 启动后端

### 2. 501 错误
- **原因**：API路由配置问题
- **解决**：确保后端服务器在端口 5000 运行

### 3. CORS 错误
- **原因**：跨域请求被阻止
- **解决**：确保前端在端口 8000，后端在端口 5000

### 4. 语音识别不工作
- **原因**：浏览器权限问题
- **解决**：允许麦克风权限，使用 localhost 访问

## 检查服务器状态

### 后端服务器（端口 5000）
访问：http://localhost:5000/roles
应该返回 JSON 格式的角色列表

### 前端服务器（端口 8000）
访问：http://localhost:8000/voice-chat.html
应该显示语音对话页面

## 调试步骤

1. **检查后端是否启动**
   ```bash
   # 在浏览器中访问
   http://localhost:5000/roles
   ```

2. **检查前端是否启动**
   ```bash
   # 在浏览器中访问
   http://localhost:8000/voice-chat.html
   ```

3. **查看控制台错误**
   - 按 F12 打开开发者工具
   - 查看 Console 标签页的错误信息

4. **检查网络请求**
   - 在开发者工具中查看 Network 标签页
   - 查看 API 请求是否成功

## 成功标志

当系统正常运行时，你应该看到：
- 后端控制台显示：`Running on http://127.0.0.1:5000`
- 前端页面能正常加载
- 角色列表能正常显示
- 语音识别按钮可以点击

如果还有问题，请检查：
1. Python 是否正确安装
2. 所有依赖文件是否存在
3. 端口是否被占用
4. 防火墙是否阻止了连接
